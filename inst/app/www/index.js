(()=>{var e={793:()=>{window.Shiny.addCustomMessageHandler("blockr-app-bind-remove",(e=>{$(".remove-row").off("click"),$(".remove-row").on("click",(e=>{const t=[];$(e.target).closest(".masonry-row").find(".stack").each(((e,o)=>{t.push($(o).attr("id"))}));const o=$(e.target).data("id");window.Shiny.setInputValue("removeRow",{tab:o,stacks:t}),$(e.target).closest(".masonry-row").remove()}))}))},566:()=>{$((()=>{window.Shiny.addCustomMessageHandler("restored-tab",(e=>{setTimeout((()=>{$(`#${e.id}`).find(".stack").find("button.action-button.btn-success").trigger("click")}),1250)}))}))},502:()=>{$((()=>{setTimeout((()=>{$("#add-tab-form").prepend('<div class="auto-save form-check form-switch w-50">\n        <input id="autosave" class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">\n        <label class="form-check-label" for="flexSwitchCheckDefault">Auto save</label>\n      </div>'),$("#autosave").on("change",(e=>{const t=$(e.target).prop("checked");window.Shiny.setInputValue("autosave",t)}))}),1500)}))},501:()=>{window.Shiny.addCustomMessageHandler("remove-tab",(function(e){setTimeout((()=>{$(".remove-tab").off("click"),$(".remove-tab").on("click",(e=>{let t=[];$(e.target).closest(".tab-pane").find(".stack").each(((e,o)=>{t.push($(o).attr("id"))}));const o=$(e.currentTarget).attr("id");window.Shiny.setInputValue(o,t)}))}),500)}))},539:()=>{$((()=>{$(document).on("shiny:message",(t=>{t.message["shiny-insert-tab"]&&setTimeout((()=>{e()}),1e3)}))}));const e=()=>{const e=$(".tab-title");e.off("click"),e.on("click",(()=>{e.replaceWith(`<input type="text" class="tab-title-input form-control form-control-sm mx-1" value="${e.text()}">`),t(e.text())}))},t=t=>{$(".tab-title-input").off("keydown"),$(".tab-title-input").on("keydown",(o=>{if("Enter"!==o.key)return;const a=$(o.target).val();$(o.target).replaceWith(`<h1 class="tab-title cursor-pointer">${a}</h1>`),$(document).find(`[data-value='${t}']`).attr("data-value",a),e()}))}}},t={};function o(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,o),n.exports}(()=>{"use strict";let e=!1;const t=()=>{if(!e)return void $("body").removeClass("blockr-locked");$("body").addClass("blockr-locked"),$(".remove-tab").hide();const t=$(".bslib-sidebar-layout");$(".tab-title").off(),t.find(".sidebar").hide(),t.find(".collapse-toggle").trigger("click"),t.find(".collapse-toggle").hide(),$(".add-stack-wrapper").hide(),$(".bslib-sidebar-layout > .main").css("grid-column","1/3"),$(".masonry-item").css("resize","none")},a=e=>{e.message["shiny-insert-tab"]&&setTimeout((()=>{t()}),250)};$((()=>{$(document).on("shiny:message",a),$(document).on("blockr:lock",(o=>{e=o.detail.locked,t()})),(e=>{e||setTimeout((()=>{$(".navbar-collapse").append('<form class="d-flex" id="add-tab-form">\n        <input id="addTitle" class="form-control me-2" type="text" placeholder="Tab title">\n        <button id="addSubmit" class="btn btn-outline-dark" type="submit">Add</button>\n      </form>'),$("#addSubmit").on("click",(()=>{const e=$("#addTitle"),t=e.val();t?(e.removeClass("is-invalid"),e.val(""),window.Shiny.setInputValue("addTab",t)):e.addClass("is-invalid")}))}),1e3)})(e),$(document).on("shiny:connected",(()=>{const e=window.location.origin+window.location.pathname;window.Shiny.setInputValue("href",e,{priority:"event"})})),window.Shiny.addCustomMessageHandler("saved",(e=>{$("#link-wrapper").show()})),window.Shiny.addCustomMessageHandler("bind-lock",(e=>{setTimeout((()=>{$("#lockName").on("keyup",(e=>{"Enter"==e.key&&$("#save").click()})),$("#save").off("click"),$("#save").on("click",(()=>{const e=$("#lockName").val();""!==e?e.includes(" ")?window.Shiny.notifications.show({html:"Title cannot include spaces",type:"error"}):window.Shiny.setInputValue("savethis",{title:e},{priority:"event"}):window.Shiny.notifications.show({html:"Missing title",type:"error"})}))}),250)}))})),o(793),o(539),o(501),o(566),o(502)})()})();